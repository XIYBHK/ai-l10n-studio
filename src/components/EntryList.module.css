.container {
  height: 100%;
  display: flex;
  flex-direction: column;
  outline: none;
  background: var(--color-bgPrimary);
}

.header {
  padding: var(--space-2) var(--space-4);
  border-bottom: 1px solid var(--color-borderSecondary);
  background: var(--color-bgTertiary);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-shrink: 0;
}

.headerText {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-textPrimary);
  white-space: nowrap;
  flex-shrink: 0;
}

.headerActions {
  display: flex;
  gap: var(--space-2);
  align-items: center;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.shortcutHint {
  font-size: var(--font-size-xs);
  color: var(--color-textTertiary);
  margin-left: var(--space-2);
}

.progressContainer {
  padding: var(--space-2) var(--space-4);
  background: var(--color-bgPrimary);
  flex-shrink: 0;
}

.columnsContainer {
  flex: 1;
  height: 0;
  display: flex;
  overflow: hidden;
  min-height: 0;
}

.column {
  height: 100%;
  display: flex;
  flex-direction: column;
  position: relative;
  min-height: 0;
  flex: none;
}

.resizeHandle {
  position: absolute;
  right: -3px;
  top: 0;
  bottom: 0;
  width: 6px;
  cursor: col-resize;
  background-color: transparent;
  z-index: 10;
}

/* ============================================
   VirtualColumn styles
   ============================================ */

.virtualColumnContainer {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  min-width: 0;
  min-height: 0;
  overflow: hidden;
  background-color: var(--color-bgPrimary);
}

/* 列标题样式 */
.columnHeader {
  padding: var(--space-2) var(--space-3);
  background: var(--color-bgTertiary);
  border-bottom: 1px solid var(--color-borderSecondary);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-textPrimary);
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 40px;
  flex-shrink: 0;
  box-shadow: var(--shadow-sm);
}

.columnHeaderLeft {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  white-space: nowrap;
  overflow: hidden;
}

/* 计数徽章 */
.countBadge {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-normal);
  color: var(--color-textTertiary);
  background-color: var(--color-bgSecondary);
  padding: 1px 6px;
  border-radius: var(--radius-full);
  flex-shrink: 0;
  border: 1px solid var(--color-borderSecondary);
}

/* 列操作按钮 */
.columnActions {
  display: flex;
  gap: var(--space-2);
}

.actionButton {
  font-size: var(--font-size-xs);
  padding: 0;
  height: auto;
  white-space: nowrap;
  flex-shrink: 0;
  font-weight: var(--font-weight-medium);
}

.scrollContainer {
  flex: 1;
  width: 100%;
  overflow: auto;
  position: relative;
}

/* ============================================
   Virtual Item styles - 增强版
   ============================================ */

.virtualItem {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  padding: var(--space-2) var(--space-3);
  cursor: pointer;
  background-color: var(--color-bgPrimary);
  border-bottom: 1px solid var(--color-borderSecondary);
  border-left: 4px solid transparent;
  user-select: none;
  box-sizing: border-box;
  overflow: hidden;
  transition: all var(--duration-fast) var(--ease-out);
}

/* 悬停效果 */
.virtualItem:hover {
  background-color: var(--color-hoverBg);
  transform: translateX(2px);
}

/* 选中状态 - 增强 */
.virtualItem.selected {
  border-left-color: var(--color-brandPrimary);
  background-color: var(--color-selectedBg);
  box-shadow: inset 3px 0 0 var(--color-brandPrimary);
}

/* 状态颜色标记 */
.virtualItem.untranslated {
  border-left-color: var(--color-statusUntranslated);
}

.virtualItem.needsReview {
  border-left-color: var(--color-statusNeedsReview);
}

.virtualItem.translated {
  border-left-color: var(--color-statusTranslated);
}

/* 当前激活项 */
.virtualItem.current {
  background-color: var(--color-hoverBg);
}

/* 焦点样式 - 无障碍支持 */
.virtualItem:focus-visible {
  outline: 2px solid var(--color-brandPrimary);
  outline-offset: -2px;
  box-shadow: inset 0 0 0 2px var(--color-brandPrimary);
}

/* 元信息区域 */
.virtualItemMeta {
  font-size: var(--font-size-xs);
  color: var(--color-textTertiary);
  margin-bottom: var(--space-1);
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 16px;
}

.indexLabel {
  font-family: var(--mono-font);
  opacity: 0.7;
  font-size: var(--font-size-xs);
}

/* 翻译来源徽章 */
.sourceBadge {
  font-size: 10px;
  padding: 1px 5px;
  border-radius: var(--radius-sm);
  white-space: nowrap;
  font-weight: var(--font-weight-medium);
  display: flex;
  align-items: center;
  gap: 3px;
  line-height: 1.2;
}

/* 原文和译文文字 */
.msgidText {
  font-size: var(--font-size-base);
  line-height: 1.4;
  margin-bottom: var(--space-1);
  font-weight: var(--font-weight-medium);
}

.msgstrText {
  font-size: var(--font-size-sm);
  color: var(--color-textSecondary);
}

/* 确认按钮容器 */
.confirmButtonWrapper {
  position: absolute;
  right: var(--space-3);
  bottom: var(--space-2);
}

/* ============================================
   选中行操作栏
   ============================================ */

.selectionActions {
  display: flex;
  gap: var(--space-2);
  align-items: center;
  padding: var(--space-1) 0;
}

.selectionActions button {
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
}

/* ============================================
   空状态样式
   ============================================ */

.emptyState {
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-6) var(--space-4);
  background-color: var(--color-bgPrimary);
}

/* ============================================
   全局过渡动画
   ============================================ */

.container,
.header,
.headerText,
.shortcutHint,
.progressContainer,
.virtualColumnContainer,
.columnHeader,
.countBadge,
.scrollContainer,
.emptyState,
.virtualItem,
.virtualItemMeta,
.indexLabel,
.sourceBadge,
.msgidText,
.msgstrText {
  transition:
    background-color var(--duration-base) var(--ease-out),
    color var(--duration-base) var(--ease-out),
    border-color var(--duration-base) var(--ease-out),
    box-shadow var(--duration-base) var(--ease-out);
}

/* ============================================
   减少动画偏好支持
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .virtualItem {
    transition: none !important;
    transform: none !important;
  }
}
